<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <!-- Important pour Cordova -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *; img-src 'self' data: content:;">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">

    <title>Ligue des Rava'Jeux - Blood Bowl</title>

    <!-- CSS -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/mobile.css">
    <link rel="stylesheet" href="css/print.css" media="print">

    <!-- Manifest pour PWA (optionnel mais recommandé) -->
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <div id="app" class="container">
        <!-- Header -->
        <header class="header">
            <h1>🏈 Ligue des Rava'Jeux</h1>
            <p>Feuille de Match Interactive - Blood Bowl Sevens</p>
            <small style="color: #888;">Suivez les étapes pour gérer votre match de façon simple et efficace</small>
        </header>

        <!-- Progress indicator -->
        <div class="progress-indicator" id="progress-indicator">
            <div class="progress-step current">1</div>
            <div class="progress-step">2</div>
            <div class="progress-step">3</div>
            <div class="progress-step">4</div>
            <div class="progress-step">5</div>
        </div>

        <!-- Tabs -->
        <nav class="tabs" id="main-tabs">
            <div class="tab active" data-tab="setup">🏟️ Configuration</div>
            <div class="tab" data-tab="prematch">⚡ Avant-Match</div>
            <div class="tab" data-tab="match">🎮 Match</div>
            <div class="tab" data-tab="postmatch">📊 Après-Match</div>
            <div class="tab" data-tab="summary">📋 Résumé</div>
        </nav>

        <!-- Content -->
        <main class="content" id="main-content">
            <!-- Le contenu sera chargé ici -->
        </main>

        <!-- Content -->
        <main class="content tab-content active" id="main-content">
            <!-- Le contenu sera chargé ici -->
        </main>

        <!-- Loading -->
        <div id="loading" class="loading" style="display: none;">
            <div class="spinner"></div>
        </div>
    </div>

    <!-- Templates -->
    <template id="player-row-template">
        <tr>
            <td><input type="text" class="player-name-input" placeholder="Nom du joueur"></td>
            <td><input type="checkbox" class="action-checkbox" data-action="reu" data-xp="1"></td>
            <td><input type="checkbox" class="action-checkbox" data-action="det" data-xp="1"></td>
            <td><input type="checkbox" class="action-checkbox" data-action="int" data-xp="2"></td>
            <td><input type="checkbox" class="action-checkbox" data-action="elim" data-xp="2"></td>
            <td><input type="checkbox" class="action-checkbox" data-action="td" data-xp="3"></td>
            <td><input type="checkbox" class="action-checkbox" data-action="jdm" data-xp="4"></td>
        </tr>
    </template>

    <!-- Scripts -->
    <script src="cordova.js"></script>
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/cordova-init.js"></script>
    <script src="js/app.js"></script>

    <script>
        // Initialiser l'app après le chargement du DOM
        document.addEventListener('DOMContentLoaded', function() {
            window.app = new BloodBowlApp();
        });
    </script>

    <button class="manual-save-btn" onclick="app.saveState()" title="Sauvegarder maintenant">
        💾
    </button>

</body>
</html>